{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(mv:*)",
      "Bash(rmdir:*)",
      "Bash(flutter create:*)",
      "Bash(flutter pub:*)",
      "Bash(flutter analyze:*)",
      "Bash(flutter build:*)",
      "Bash(flutter test:*)",
      "Bash(flutter:*)",
      "Bash(grep:*)",
      "Bash(killall:*)",
      "Bash(true)",
      "Bash(rm:*)",
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(pkill:*)",
      "Bash(dart run:*)",
      "Bash(ffmpeg:*)",
      "WebFetch(domain:pub.dev)",
      "WebFetch(domain:github.com)",
      "Bash(go build:*)",
      "Bash(rg:*)",
      "Bash(r)",
      "Bash(adb:*)",
      "mcp__ide__getDiagnostics",
      "Bash(q)",
      "Bash(git add:*)",
      "WebFetch(domain:modelcontextprotocol.io)",
      "Bash(git commit:*)",
      "WebFetch(domain:spec.modelcontextprotocol.io)",
      "Bash(dart:*)",
      "WebFetch(domain:fastmcp.com)",
      "WebFetch(domain:www.alibabacloud.com)",
      "Bash(# 创建新的session\nresponse=$(curl -s -i -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 1,\n    \"\"method\"\": \"\"initialize\"\",\n    \"\"params\"\": {\n      \"\"protocolVersion\"\": \"\"2025-06-18\"\",\n      \"\"capabilities\"\": {\n        \"\"roots\"\": {\"\"listChanged\"\": true},\n        \"\"sampling\"\": {}\n      },\n      \"\"clientInfo\"\": {\n        \"\"name\"\": \"\"TestClient\"\",\n        \"\"version\"\": \"\"1.0.0\"\"\n      }\n    }\n  }'')\n\nnew_session_id=$(echo \"\"$response\"\" | grep -i \"\"mcp-session-id:\"\" | cut -d'' '' -f2 | tr -d ''\\r'')\necho \"\"New Session ID: $new_session_id\"\"\n\n# 不发送initialized通知，直接测试tools/list\necho \"\"Testing tools/list without initialized notification...\"\"\ncurl -s -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -H \"\"Mcp-Session-Id: $new_session_id\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 2,\n    \"\"method\"\": \"\"tools/list\"\",\n    \"\"params\"\": {}\n  }'')",
      "Bash(# 创建新的session并完成完整的初始化序列\nresponse=$(curl -s -i -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 1,\n    \"\"method\"\": \"\"initialize\"\",\n    \"\"params\"\": {\n      \"\"protocolVersion\"\": \"\"2025-06-18\"\",\n      \"\"capabilities\"\": {\n        \"\"roots\"\": {\"\"listChanged\"\": true},\n        \"\"sampling\"\": {}\n      },\n      \"\"clientInfo\"\": {\n        \"\"name\"\": \"\"TestClient\"\",\n        \"\"version\"\": \"\"1.0.0\"\"\n      }\n    }\n  }'')\n\nsession_id=$(echo \"\"$response\"\" | grep -i \"\"mcp-session-id:\"\" | cut -d'' '' -f2 | tr -d ''\\r'')\necho \"\"Session ID: $session_id\"\"\n\n# 发送initialized通知\necho \"\"Sending initialized notification...\"\"\ncurl -s -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -H \"\"Mcp-Session-Id: $session_id\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"method\"\": \"\"notifications/initialized\"\"\n  }''\n\n# 等待2秒\necho \"\"Waiting 2 seconds...\"\"\nsleep 2\n\n# 测试tools/list\necho \"\"Testing tools/list...\"\"\ncurl -s -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -H \"\"Mcp-Session-Id: $session_id\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 2,\n    \"\"method\"\": \"\"tools/list\"\"\n  }'' | head -3)",
      "Bash(# Debug the exact curl request and response\necho \"\"=== Creating session ===\"\"\nresponse=$(curl -s -i -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 1,\n    \"\"method\"\": \"\"initialize\"\",\n    \"\"params\"\": {\n      \"\"protocolVersion\"\": \"\"2025-06-18\"\",\n      \"\"capabilities\"\": {\n        \"\"roots\"\": {\"\"listChanged\"\": true},\n        \"\"sampling\"\": {}\n      },\n      \"\"clientInfo\"\": {\n        \"\"name\"\": \"\"TestClient\"\",\n        \"\"version\"\": \"\"1.0.0\"\"\n      }\n    }\n  }'')\n\nsession_id=$(echo \"\"$response\"\" | grep -i \"\"mcp-session-id:\"\" | cut -d'' '' -f2 | tr -d ''\\r'')\necho \"\"Session ID: $session_id\"\"\n\necho -e \"\"\\n=== Sending initialized notification ===\"\"\ncurl -s -i -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -H \"\"Mcp-Session-Id: $session_id\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"method\"\": \"\"notifications/initialized\"\"\n  }''\n\necho -e \"\"\\n=== Waiting 2 seconds ===\"\"\nsleep 2\n\necho -e \"\"\\n=== Sending tools/list request ===\"\"\ncurl -s -i -X POST http://192.168.200.68:8200/mcp/ \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -H \"\"Accept: application/json, text/event-stream\"\" \\\n  -H \"\"Mcp-Session-Id: $session_id\"\" \\\n  -d ''{\n    \"\"jsonrpc\"\": \"\"2.0\"\",\n    \"\"id\"\": 2,\n    \"\"method\"\": \"\"tools/list\"\"\n  }'')",
      "Bash(git checkout:*)",
      "Bash(echo:*)",
      "Bash(touch:*)",
      "Bash(git merge:*)",
      "Bash(git stash:*)",
      "Bash(git worktree:*)",
      "Bash(timeout 10s adb:*)",
      "Bash(git log:*)",
      "Bash(chmod:*)",
      "Bash(./.github/scripts/version-generator.sh:*)",
      "Bash(./.github/scripts/release-generator.sh:*)"
    ],
    "deny": []
  }
}